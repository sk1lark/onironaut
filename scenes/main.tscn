[gd_scene load_steps=10 format=3 uid="uid://dxjk4yv5wqbih"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_1"]
[ext_resource type="Shader" path="res://shaders/dither_shader.gdshader" id="2_1"]
[ext_resource type="FontFile" path="res://fonts/monogram-extended.ttf" id="3_1"]
[ext_resource type="Shader" path="res://shaders/static_shader.gdshader" id="4_1"]
[ext_resource type="Shader" path="res://shaders/ascii_background.gdshader" id="5_1"]
[ext_resource type="Shader" path="res://shaders/crt_shader.gdshader" id="7_1"]
[ext_resource type="Shader" path="res://shaders/vignette_shader.gdshader" id="6_1"]
[ext_resource type="Shader" path="res://shaders/screen_gleam.gdshader" id="8_1"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3"]
shader = ExtResource("5_1")
shader_parameter/time_scale = 0.05
shader_parameter/texture_scale = 30.0
shader_parameter/depth = 0.15

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4"]
shader = ExtResource("6_1")
shader_parameter/intensity = 0.1
shader_parameter/falloff = 0.95

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1"]
shader = ExtResource("2_1")
shader_parameter/dither_strength = 0.15
shader_parameter/contrast = 1.3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2"]
shader = ExtResource("4_1")
shader_parameter/noise_speed = 12.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5"]
shader = ExtResource("7_1")
shader_parameter/screen_curve = 6.0
shader_parameter/wobble_intensity = 0.0015
shader_parameter/glitch_intensity = 0.08
shader_parameter/scanline_intensity = 0.9
shader_parameter/scanline_count = 180.0
shader_parameter/scanline_intensity = 0.95
shader_parameter/brightness = 1.05
shader_parameter/vignette_strength = 0.8
shader_parameter/chromatic_aberration = 0.003
shader_parameter/pixel_distortion = 0.2
shader_parameter/phosphor_strength = 0.25
shader_parameter/bloom_strength = 0.12

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6"]
shader = ExtResource("8_1")
shader_parameter/gleam_intensity = 0.12
shader_parameter/gleam_size = 1.0
shader_parameter/light_position = Vector2(0.35, 0.2)

[node name="Main" type="Node2D"]
script = ExtResource("1_1")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 1
current = true

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="ColorRect" type="ColorRect" parent="Background"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
mouse_filter = 2

[node name="ASCIIBackground" type="ColorRect" parent="Background"]
material = SubResource("ShaderMaterial_3")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Vignette" type="ColorRect" parent="Background"]
material = SubResource("ShaderMaterial_4")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="DitherLayer" type="CanvasLayer" parent="."]
layer = 100
visible = false

[node name="DitherShader" type="ColorRect" parent="DitherLayer"]
material = SubResource("ShaderMaterial_1")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="CRTLayer" type="CanvasLayer" parent="."]
layer = 101
visible = true

[node name="CRTShader" type="ColorRect" parent="CRTLayer"]
material = SubResource("ShaderMaterial_5")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="GleamLayer" type="CanvasLayer" parent="."]
layer = 102

[node name="ScreenGleam" type="ColorRect" parent="GleamLayer"]
material = SubResource("ShaderMaterial_6")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(1, 1, 1, 1)

[node name="GameplayArea" type="Node2D" parent="."]

[node name="OriginMarker" type="Node2D" parent="GameplayArea"]
visible = true

[node name="XLine" type="ColorRect" parent="GameplayArea/OriginMarker"]
position = Vector2(-40, -1)
size = Vector2(80, 2)
color = Color(1, 1, 1, 0.3)

[node name="YLine" type="ColorRect" parent="GameplayArea/OriginMarker"]
position = Vector2(-1, -40)
size = Vector2(2, 80)
color = Color(1, 1, 1, 0.3)
[node name="PhantomSpawner" type="Node2D" parent="GameplayArea"]

[node name="PhantomContainer" type="Node2D" parent="GameplayArea"]

[node name="PowerUpContainer" type="Node2D" parent="GameplayArea"]

[node name="ProtagonistContainer" type="Node2D" parent="GameplayArea"]
position = Vector2(0, 0)

[node name="GateContainer" type="Node2D" parent="GameplayArea"]
position = Vector2(0, 0)

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="TopHUD" type="ColorRect" parent="UILayer"]
anchors_preset = 15
anchor_right = 1.0
offset_bottom = 84.0
grow_horizontal = 2
color = Color(0, 0, 0, 0.7)
mouse_filter = 2

[node name="BottomHUD" type="ColorRect" parent="UILayer"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -100.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0, 0, 0, 0.7)
mouse_filter = 2

[node name="ComboFlash" type="ColorRect" parent="UILayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(1, 1, 1, 1)

[node name="LevelProgressBackground" type="ColorRect" parent="UILayer"]
offset_left = 300.0
offset_top = 985.0
offset_right = 780.0
offset_bottom = 1005.0
color = Color(0, 0, 0, 1)
mouse_filter = 2

[node name="LevelProgressBar" type="ColorRect" parent="UILayer"]
offset_left = 300.0
offset_top = 985.0
offset_right = 780.0
offset_bottom = 1005.0
color = Color(1, 1, 1, 1)
mouse_filter = 2

[node name="LevelProgressLabel" type="Label" parent="UILayer"]
offset_left = 300.0
offset_top = 980.0
offset_right = 580.0
offset_bottom = 1010.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("3_1")
theme_override_font_sizes/font_size = 18
text = "level progress: 0/25"



[node name="Cursor" type="Label" parent="UILayer"]
offset_left = 160.0
offset_top = 970.0
offset_right = 800.0
offset_bottom = 1010.0
theme_override_colors/font_color = Color(2.0, 2.0, 2.0, 1)
theme_override_fonts/font = ExtResource("3_1")
theme_override_font_sizes/font_size = 28
text = ">_"

[node name="StatusText" type="Label" parent="UILayer"]
offset_left = 120.0
offset_top = 20.0
offset_right = 400.0
offset_bottom = 50.0
theme_override_colors/font_color = Color(2.0, 2.0, 2.0, 1)
theme_override_fonts/font = ExtResource("3_1")
theme_override_font_sizes/font_size = 24
text = "lucidity: 100%"
metadata/_edit_use_anchors_ = true

[node name="TransitionLayer" type="CanvasLayer" parent="."]

[node name="TransitionRect" type="ColorRect" parent="TransitionLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0392157, 0.0392157, 0.0392157, 1)
mouse_filter = 2
